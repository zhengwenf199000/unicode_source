"use weex:vue";

if (typeof Promise !== 'undefined' && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor
    return this.then(
      value => promise.resolve(callback()).then(() => value),
      reason => promise.resolve(callback()).then(() => {
        throw reason
      })
    )
  }
};

if (typeof uni !== 'undefined' && uni && uni.requireGlobal) {
  const global = uni.requireGlobal()
  ArrayBuffer = global.ArrayBuffer
  Int8Array = global.Int8Array
  Uint8Array = global.Uint8Array
  Uint8ClampedArray = global.Uint8ClampedArray
  Int16Array = global.Int16Array
  Uint16Array = global.Uint16Array
  Int32Array = global.Int32Array
  Uint32Array = global.Uint32Array
  Float32Array = global.Float32Array
  Float64Array = global.Float64Array
  BigInt64Array = global.BigInt64Array
  BigUint64Array = global.BigUint64Array
};


(()=>{var T=Object.create;var h=Object.defineProperty;var A=Object.getOwnPropertyDescriptor;var F=Object.getOwnPropertyNames;var S=Object.getPrototypeOf,P=Object.prototype.hasOwnProperty;var L=(t,o)=>()=>(o||t((o={exports:{}}).exports,o),o.exports);var E=(t,o,n,r)=>{if(o&&typeof o=="object"||typeof o=="function")for(let c of F(o))!P.call(t,c)&&c!==n&&h(t,c,{get:()=>o[c],enumerable:!(r=A(o,c))||r.enumerable});return t};var f=(t,o,n)=>(n=t!=null?T(S(t)):{},E(o||!t||!t.__esModule?h(n,"default",{value:t,enumerable:!0}):n,t));var w=(t,o,n)=>new Promise((r,c)=>{var a=i=>{try{l(n.next(i))}catch(u){c(u)}},_=i=>{try{l(n.throw(i))}catch(u){c(u)}},l=i=>i.done?r(i.value):Promise.resolve(i.value).then(a,_);l((n=n.apply(t,o)).next())});var p=L((q,C)=>{C.exports=Vue});var s=f(p());var m=(t,o)=>{let n=t.__vccOpts||t;for(let[r,c]of o)n[r]=c;return n};var N="/static/home/HomePage.png",B="/static/imgs/logo.png",$={"content-bg__countdown":{"":{position:"absolute",right:150,color:"#FFFFFF",fontSize:15}}},V={name:"content-bg",data(){return{}},computed:{systemName(){return this.$store.getters.systemName},leftTime(){return this.userInactivePage.leftTime},isCountdown(){return this.userInactivePage.isCountdown}},inject:{userInactivePage:{from:"userInactivePage",default(){return{}}}},methods:{}};function D(t,o,n,r,c,a){return(0,s.openBlock)(),(0,s.createElementBlock)("view",{class:"content-bg",renderWhole:!0},[(0,s.createElementVNode)("view",{class:"content-bg"},[(0,s.createElementVNode)("u-image",{class:"content-bg_image",src:N,mode:"widthFix"}),(0,s.createElementVNode)("view",{class:"content-bg_title"},[(0,s.createElementVNode)("view",{class:"content-bg_title__placeholder"},[(0,s.createElementVNode)("u-image",{class:"content-bg_title__placeholder___logo",src:B,mode:"widthFix"})]),(0,s.createElementVNode)("u-text",{class:"content-bg_title__text",style:{"font-size":"60px"}},(0,s.toDisplayString)(a.systemName)+"\u793E\u533A\u77EB\u6B63\u81EA\u52A9\u7EC8\u7AEF",1),a.isCountdown?((0,s.openBlock)(),(0,s.createElementBlock)("u-text",{key:0,class:"content-bg__countdown"},(0,s.toDisplayString)(a.leftTime)+"\u79D2\u540E\u5173\u95ED",1)):(0,s.createCommentVNode)("",!0)]),(0,s.createElementVNode)("view",{class:"content-bg_placeholder"})]),(0,s.renderSlot)(t.$slots,"default")])}var v=m(V,[["render",D],["styles",[$]]]);var e=f(p());var Q=f(p());function y(t,o,...n){uni.__log__?uni.__log__(t,o,...n):console[t].apply(console,[...n,o])}function x(t,o){return typeof t=="string"?o:t}var b=120,k={data(){return{leftTime:b,isCountdown:!1,reLaunchUrl:"",isPageShow:!0,pagesLength:1}},provide(){return{userInactivePage:this}},onShow(){return w(this,null,function*(){this.isPageShow=!0,y("log","at mixins/userInactiveMixin.ts:19","on show!"),yield uni.$u.sleep(500),this.initAutoClose()})},onHide(){this.isPageShow=!1,this.clearAutoClose()},onUnload(){this.isPageShow=!1,this.clearAutoClose()},methods:{capture(t){this.isPageShow&&this.resetAutoClose()},startCountdown(){this.stopCountdown(),this.isCountdown=!0,this.leftTime=b,this.countdownInterval=setInterval(()=>{this.leftTime--,this.leftTime===0&&(this.stopCountdown(),uni.navigateBack({delta:this.pagesLength}))},1e3)},stopCountdown(){this.isCountdown=!1,this.countdownInterval&&clearInterval(this.countdownInterval)},initAutoClose(){let t=getCurrentPages();this.pagesLength=t.length,this.pagesLength>1&&(this.reLaunchUrl=t[0].$page.path,this.resetAutoClose())},resetAutoClose(){if(this.stopCountdown(),this.userFuncTask){this.userFuncTask.listener();return}this.userFuncTask=uni.$u.initTimeUserFunc({ms:3e3,cb:()=>{this.startCountdown()}})},clearAutoClose(){this.userFuncTask&&this.userFuncTask.release(),this.stopCountdown()}}};var I="/static/imgs/Home.png";var z={"compound_content-title":{".compound_content ":{color:"#006AEC",fontSize:26,fontWeight:"bold",marginTop:20}},"compound_content-type":{".compound_content ":{color:"#006AEC",fontSize:26,fontWeight:"bold",textAlign:"center",marginTop:10}},"compound_content-funcsc":{".compound_content ":{flex:1,justifyContent:"center"}},"compound_content-funcs":{".compound_content ":{flexDirection:"row",justifyContent:"center",height:160}},"compound_content-funcs-f":{".compound_content .compound_content-funcs ":{marginLeft:30}},"compound_content-funcs-first":{".compound_content .compound_content-funcs ":{marginLeft:0}},"compound_content-funcs-p":{".compound_content .compound_content-funcs ":{width:30}},"compound_content-logout":{".compound_content ":{alignSelf:"flex-end",backgroundColor:"#006AEC",marginBottom:15,color:"#ffffff",width:100}}},M={mixins:[k],data(){return{funcItems:[{path:"/pages/compound/daily",icon:"../../static/compound/DailyCheck-in.png"},{path:"/pages/compound/education?type=0",icon:"../../static/compound/IndividualEducation.png"},{path:"/pages/compound/education?type=1",icon:"../../static/compound/CollectiveEducation.png"},{path:"/pages/compound/benefit",icon:"../../static/compound/PublicBenefitActivities.png"}]}},methods:{homeClick(){uni.reLaunch({url:"/pages/home/home"})},exitClick(){uni.navigateBack()},funcClick(t){this.$store.getters.compoundAuthInfo||!t.needAuth?uni.navigateTo({url:t.path,animationType:"none"}):uni.showToast({title:"\u8BF7\u5148\u5B8C\u6210\u65E5\u5E38\u62A5\u5230",icon:"none"})}}};function U(t,o,n,r,c,a){let _=(0,e.resolveComponent)("button"),l=x((0,e.resolveDynamicComponent)("content-bg"),v);return(0,e.openBlock)(),(0,e.createElementBlock)("scroll-view",{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true",style:{flexDirection:"column"}},[(0,e.createElementVNode)("view",{class:"content compound_content",onClick:o[1]||(o[1]=(...i)=>t.capture&&t.capture(...i))},[(0,e.createVNode)(l,null,{default:(0,e.withCtx)(()=>[(0,e.createElementVNode)("view",{class:"content-nav"},[(0,e.createElementVNode)("u-image",{class:"content-nav-home",src:I,mode:"widthFix",onClick:o[0]||(o[0]=(...i)=>a.homeClick&&a.homeClick(...i))})]),(0,e.createElementVNode)("view",{class:"content-c"},[(0,e.createElementVNode)("u-text",{class:"compound_content-title"},"\u7EFC\u5408\u62A5\u5230"),(0,e.createElementVNode)("u-text",{class:"compound_content-type"},"\u8BF7\u9009\u62E9\u4E1A\u52A1\u7C7B\u578B"),(0,e.createElementVNode)("view",{class:"compound_content-funcsc"},[(0,e.createElementVNode)("view",{class:"compound_content-funcs"},[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(c.funcItems,(i,u)=>((0,e.openBlock)(),(0,e.createElementBlock)("u-image",{class:(0,e.normalizeClass)(["compound_content-funcs-f",{"compound_content-funcs-first":u===0}]),key:u,src:i.icon,mode:"heightFix",onClick:W=>a.funcClick(i)},null,10,["src","onClick"]))),128))])]),(0,e.createVNode)(_,{type:"primary",class:"compound_content-logout",onClick:a.exitClick},{default:(0,e.withCtx)(()=>[(0,e.createTextVNode)("\u9000\u51FA")]),_:1},8,["onClick"])])]),_:1})])])}var d=m(M,[["render",U],["styles",[z]]]);var g=plus.webview.currentWebview();if(g){let t=parseInt(g.id),o="pages/compound/compound",n={};try{n=JSON.parse(g.__query__)}catch(c){}d.mpType="page";let r=Vue.createPageApp(d,{$store:getApp({allowDefault:!0}).$store,__pageId:t,__pagePath:o,__pageQuery:n});r.provide("__globalStyles",Vue.useCssStyles([...__uniConfig.styles,...d.styles||[]])),r.mount("#root")}})();
